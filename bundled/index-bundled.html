<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>StoryBot - Collaborative Storytelling for Discord</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
/* Main CSS file - extracted from styles.css */
/* Global styles and variables */
:root {
  --primary-color: #5865F2;
  --success-color: #43b581;
  --warning-color: #e9b84e;
  --danger-color: #f04747;
  --dark-bg: #23272a;
  --darker-bg: #2c2f33;
  --light-bg: #f8f9fa;
  --text-light: rgba(255, 255, 255, 0.8);
  --text-muted: #6c757d;
  --shadow-sm: 0 5px 15px rgba(0, 0, 0, 0.1);
  --shadow-lg: 0 10px 25px rgba(0, 0, 0, 0.15);
  --transition-default: all 0.3s ease;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  padding: 0;
}

/* Common layout elements */
.page-header {
  background-color: var(--dark-bg);
  color: white;
  padding: 120px 0 60px;
  text-align: center;
}

footer {
  background-color: var(--dark-bg);
  color: white;
  padding: 2rem 0;
}

footer a {
  color: var(--primary-color);
  text-decoration: none;
}

footer a:hover {
  color: #7289da;
  text-decoration: underline;
}

/* Buttons */
.btn-primary {
  background-color: var(--primary-color);
  border-color: var(--primary-color);
}

.btn-primary:hover {
  background-color: #4752c4;
  border-color: #4752c4;
}

.btn-success {
  background-color: var(--success-color);
  border-color: var(--success-color);
}

.premium-btn {
  background-color: var(--warning-color);
  border-color: var(--warning-color);
  color: var(--dark-bg);
  font-weight: bold;
}

.premium-btn:hover {
  background-color: #d9a83e;
  border-color: #d9a83e;
  color: var(--dark-bg);
}

/* Feature cards (used across multiple pages) */
.feature-card {
  background-color: white;
  border-radius: 10px;
  padding: 30px;
  height: 100%;
  box-shadow: var(--shadow-sm);
  transition: transform 0.3s ease, box-shadow 0.3s ease;
}

.feature-card:hover {
  transform: translateY(-5px);
  box-shadow: var(--shadow-lg);
}

.feature-card h3 {
  margin-bottom: 15px;
  font-weight: 600;
}

/* Responsive adjustments */
@media (max-width: 768px) {
  .page-header {
    padding: 100px 0 40px;
  }
  
  .feature-card, .testimonial-card {
    margin-bottom: 20px;
  }
}

/* Override Bootstrap background utilities */
.bg-dark {
  background-color: var(--dark-bg) !important;
}

.bg-darker {
  background-color: var(--darker-bg) !important;
}

.bg-light {
  background-color: var(--light-bg) !important;
}

.bg-primary {
  background-color: var(--primary-color) !important;
}

.bg-success {
  background-color: var(--success-color) !important;
}

.bg-warning {
  background-color: var(--warning-color) !important;
}


</style>
  <style>
/* Home page specific styles */
.hero-container {
  background-image: url('https://raw.githubusercontent.com/NathanHinthorne/StoryBot-website/refs/heads/main/images/banner.jpeg');
  background-size: cover;
  background-position: center;
  min-height: 100vh;
  position: relative;
  color: white;
}

.hero-container::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  z-index: 1;
}

.navbar, .hero-content {
  position: relative;
  z-index: 2;
}

.hero-content {
  padding-top: 15vh;
}

.hero-content h1 {
  font-size: 3.5rem;
  font-weight: 700;
  margin-bottom: 1.5rem;
}

.hero-content p {
  font-size: 1.5rem;
  margin-bottom: 2rem;
}

/* Features section */
.features {
  background-color: white;
}

.feature-icon {
  font-size: 2rem;
  color: var(--primary-color);
  margin-bottom: 1rem;
}

/* CTA section */
.cta {
  background-color: var(--light-bg);
}

@media (max-width: 768px) {
  .hero-content h1 {
    font-size: 2.5rem;
  }
  
  .hero-content p {
    font-size: 1.2rem;
  }
  
  .hero-buttons .btn {
    display: block;
    width: 100%;
    margin-bottom: 1rem;
  }
  
  .hero-buttons .btn:last-child {
    margin-right: 0;
  }
}


</style>
  <style>
/* Navbar specific styles */
.navbar {
  padding: 0.5rem 0;
  background-color: rgba(35, 39, 42, 0.95);
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
  position: fixed;
  top: 0;
  width: 100%;
  z-index: 1000;
}

.navbar-brand {
  font-weight: 700;
  font-size: 1.5rem;
  color: white;
}

.navbar-dark .navbar-nav .nav-link {
  color: rgba(255, 255, 255, 0.8);
  font-weight: 500;
  padding: 0.5rem 1rem;
  transition: color 0.3s ease;
}

.navbar-dark .navbar-nav .nav-link:hover,
.navbar-dark .navbar-nav .nav-link.active {
  color: white;
}

.navbar-dark .navbar-toggler {
  border-color: rgba(255, 255, 255, 0.1);
}

.navbar-dark .navbar-toggler-icon {
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.8%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e");
}

/* Brand container styles */
.brand-container {
  display: flex;
  align-items: center;
  gap: 10px;
}

.brand-icon {
  width: 48px;
  height: 48px;
  background: white;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
}

.brand-img {
  width: 40px;
  height: 40px;
  object-fit: contain;
}

/* Fix for navbar on mobile */
@media (max-width: 991.98px) {
  .navbar-collapse {
    background-color: rgba(35, 39, 42, 0.95);
    padding: 1rem;
    border-radius: 0.5rem;
    margin-top: 0.5rem;
  }
  
  .navbar-nav {
    padding: 0.5rem 0;
  }
  
  .nav-item {
    margin-bottom: 0.5rem;
  }
  
  .navbar-nav .btn {
    display: block;
    width: 100%;
    text-align: left;
    margin-top: 0.5rem;
  }
}

</style>
  <style>
.footer-brand {
  font-weight: 700;
  font-size: 1.5rem;
  color: white;
}
</style>
</head>
<body>
  <!-- <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container">
      <a class="navbar-brand" href="index.html">
        <div class="brand-container">
          <div class="brand-icon">
            <img src="https://raw.githubusercontent.com/NathanHinthorne/StoryBot-website/refs/heads/main/images/logo-large.png" alt="StoryBot Logo" class="brand-img">
          </div>
          <span>StoryBot</span>
        </div>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link active" href="https://sites.google.com/view/discord-storybot/home">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://sites.google.com/view/discord-storybot/about">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://sites.google.com/view/discord-storybot/premium">Premium</a>
          </li>
        </ul>                                                                                                
      </div>
    </div>
  </nav> -->

  <div class="hero-container">
    <div class="container hero-content text-center">
      <h1>Have Fun. Build Stories.</h1>
      <p class="lead">StoryBot facilitates co-authored storytelling, keeping your Discord community engaged and entertained.</p>
      <div class="hero-buttons">
        <a href="premium.html" class="btn btn-outline-light btn-lg me-3">
          <i class="fas fa-bolt me-2"></i>Go Premium
        </a>
        <a href="https://discord.com/oauth2/authorize?client_id=1063655892643500042&permissions=8&integration_type=0&scope=bot" target="_blank" class="btn btn-outline-light btn-lg">
          <i class="fab fa-discord me-2"></i>Add to Discord
        </a>
      </div>
    </div>
  </div>

  <section class="features py-5">
    <div class="container">
      <h2 class="text-center mb-5">Collaborative Storytelling Made Easy</h2>
      <div class="row">
        <div class="col-md-4 mb-4">
          <div class="feature-card">
            <div class="feature-icon">
              <i class="fas fa-book"></i>
            </div>
            <h3>Collaborative Storytelling</h3>
            <p>Users build stories one message at a time, crafting unique narratives together.</p>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="feature-card">
            <div class="feature-icon">
              <i class="fas fa-robot"></i>
            </div>
            <h3>AI Assistance</h3>
            <p>Gemini AI generates plot twists and summaries, keeping users engaged and ideas flowing.</p>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="feature-card">
            <div class="feature-icon">
              <i class="fas fa-history"></i>
            </div>
            <h3>Story Tracking</h3>
            <p>Full story history with options to save and export your collaborative creations to Google Docs.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section class="cta py-5 bg-light">
    <div class="container text-center">
      <h2>Ready to Start Your Story?</h2>
      <p class="lead mb-4">Join the fun and add StoryBot to your Discord server today</p>
      <div id="purchase-container" style="display: none;">
        <button id="purchase-btn" class="btn btn-success btn-lg">
          <i class="fas fa-bolt me-2"></i>Upgrade to Premium
        </button>
      </div>
      <div id="not-logged-container">
        <a href="https://discord.com/oauth2/authorize?client_id=1063655892643500042&permissions=8&integration_type=0&scope=bot" target="_blank" class="btn btn-primary btn-lg">
          <i class="fab fa-discord me-2"></i>Add to Discord
        </a>
      </div>
    </div>
  </section>

  <footer class="bg-dark text-white py-4">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="footer-brand">
            <div class="brand-container">
              <div class="brand-icon">
                <img src="https://raw.githubusercontent.com/NathanHinthorne/StoryBot-website/refs/heads/main/images/logo-large.png" alt="StoryBot Logo" class="brand-img">
              </div>
              <span>StoryBot</span>
            </div>
          </div>
          <p>Collaborative storytelling for Discord communities</p>
        </div>
        <div class="col-md-6 text-md-end">
          <p class="mb-0">© 2025 StoryBot. All rights reserved.</p>
        </div>
      </div>
    </div>
  </footer>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore-compat.js"></script>
  
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://js.stripe.com/v3/"></script>
  <script>
// Main application entry point
document.addEventListener('DOMContentLoaded', function() {
  // Check for auth callback first
  if (checkAuthCallback()) {
    return; // Auth callback is being handled, stop further execution
  }
  
  // Initialize UI based on current page
  const currentPage = getCurrentPage();
  
  // Common UI setup for all pages
  setupNavbar();
  
  // Page-specific initialization
  switch (currentPage) {
    case 'index':
      setupHomePage();
      break;
    case 'premium':
      setupPremiumPage();
      break;
    case 'about':
      setupAboutPage();
      break;
  }
});

// Determine current page
function getCurrentPage() {
  const path = window.location.pathname;
  if (path.includes('premium.html')) return 'premium';
  if (path.includes('about.html')) return 'about';
  return 'index'; // Default to home page
}

// Setup navbar based on login status
function setupNavbar() {
  const userLoggedIn = isUserLoggedIn();
  
  // Show/hide login button in navbar
  const loginBtn = document.getElementById('login-btn');
  if (loginBtn) {
    loginBtn.style.display = userLoggedIn ? 'none' : 'block';
  }
  
  // Add logout button if user is logged in
  if (userLoggedIn && !document.getElementById('logout-btn')) {
    const navbarNav = document.getElementById('navbarNav');
    if (navbarNav) {
      const navList = navbarNav.querySelector('ul');
      const logoutItem = document.createElement('li');
      logoutItem.className = 'nav-item';
      logoutItem.innerHTML = `
        <button id="logout-btn" class="btn btn-outline-light" onclick="logout()">
          <i class="fas fa-sign-out-alt me-2"></i>Logout
        </button>
      `;
      navList.appendChild(logoutItem);
    }
  }
}

// Home page setup
function setupHomePage() {
  const userLoggedIn = isUserLoggedIn();
  
  // Show purchase container if logged in
  const purchaseContainer = document.getElementById('purchase-container');
  const notLoggedContainer = document.getElementById('not-logged-container');
  
  if (purchaseContainer && notLoggedContainer) {
    purchaseContainer.style.display = userLoggedIn ? 'block' : 'none';
    notLoggedContainer.style.display = userLoggedIn ? 'none' : 'block';
  }
}

// Premium page setup
function setupPremiumPage() {
  setupPremiumUI();
}

// About page setup
function setupAboutPage() {
  // Any about page specific initialization
}
</script>
</body>
</html>

